/*-- scss:defaults --*/

/* Base Bootswatch variables available */
$theme: "litera";

/* Web fonts: EB Garamond per i titoli; Merriweather per fallback corpo */
@import url('https://fonts.googleapis.com/css2?family=EB+Garamond:ital,wght@0,400..800;1,400..800&family=Merriweather:wght@300;400;700;900&display=swap');

/* Se in futuro vuoi ETBook locale, scommenta e metti i file in /fonts
@font-face {
  font-family: "ETBook";
  src: url("../fonts/etbook-roman.woff2") format("woff2"),
       url("../fonts/etbook-roman.woff") format("woff");
  font-style: normal;
  font-weight: 400;
  font-display: swap;
}
@font-face {
  font-family: "ETBook";
  src: url("../fonts/etbook-bold.woff2") format("woff2"),
       url("../fonts/etbook-bold.woff") format("woff");
  font-style: normal;
  font-weight: 700;
  font-display: swap;
}
*/

/* Tipografia base */
$font-size-root: 19px;

/* Corpo: Palatino con fallback a Merriweather */
$font-family-serif: Palatino, "Palatino Linotype", "Palatino LT STD", "Book Antiqua",
                    "URW Palladio L", Georgia, "Times New Roman", serif, "Merriweather";

/* Sans per UI */
$font-family-sans-serif: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
                         "Helvetica Neue", Arial, "Noto Sans", sans-serif;

/* Corpo in serif */
$font-family-base: $font-family-serif;

/* Titoli: usa EB Garamond (o ETBook se attivi @font-face) */
$headings-font-family: "EB Garamond", "Merriweather", Georgia, serif; /* oppure "ETBook", ... */

/* Monospace */
$font-family-monospace: ui-monospace, SFMono-Regular, Menlo, Monaco,
                        Consolas, "Liberation Mono", "Courier New", monospace;

/* Manteniamo la palette litera (niente override di $primary, ecc.) */


/*-- scss:rules --*/

/* Variabili runtime Bootstrap */
:root {
  --bs-font-serif: #{$font-family-serif};
  --bs-font-sans-serif: #{$font-family-sans-serif};
  --bs-body-font-family: var(--bs-font-serif);
}

/* Corpo */
body {
  font-family: var(--bs-body-font-family);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  line-height: 1.7;
  text-rendering: optimizeLegibility;
  font-variant-ligatures: common-ligatures;
}

/* Titoli “Tufte-like”: serif distinto, optical sizing, legature, oldstyle nums */
h1, h2, h3, h4, h5, h6 {
  font-family: #{$headings-font-family};
  font-weight: 700;            /* prova 600 se li vuoi più eleganti/leggeri */
  line-height: 1.22;
  letter-spacing: 0.2px;
  margin-top: 1.75em;
  margin-bottom: 0.6em;
  text-rendering: optimizeLegibility;
  font-variant-ligatures: common-ligatures discretionary-ligatures;
  font-variant-numeric: oldstyle-nums proportional-nums;
  font-optical-sizing: auto;   /* attivo su EB Garamond */
}

/* Scala dimensionale dei titoli (armoniosa ma non urlata) */
h1 { font-size: clamp(2rem, 3.2vw, 2.6rem); }
h2 { font-size: clamp(1.6rem, 2.4vw, 2.1rem); }
h3 { font-size: clamp(1.35rem, 1.8vw, 1.7rem); }
h4 { font-size: 1.25rem; }
h5 { font-size: 1.1rem; }
h6 { font-size: 1rem; }

/* Sottotitoli: un filo di contrasto in meno */
.subtitle, .subtitle > a {
  color: var(--bs-secondary-color);
  font-weight: 600;
  font-family: #{$headings-font-family};
}

/* Link: comportamento fluido, niente colori fissi */
a {
  text-decoration: underline;
  transition: color 0.2s ease-in-out, text-decoration-color 0.2s ease-in-out;
}

/* Codice */
code, pre, kbd, samp {
  font-family: $font-family-monospace;
  font-size: 0.95em;
}
pre {
  padding: 1rem;
  overflow-x: auto;
  border-left: 0.25rem solid var(--bs-primary);
  background-color: var(--bs-tertiary-bg);
  line-height: 1.55;
}

/* Callout esercizi (come avevi) */
div[id^="exm-"],
div.callout.exercise {
  --ex-border: var(--bs-primary);
  --ex-bg: var(--bs-tertiary-bg);
  --ex-text: var(--bs-body-color);

  border-left: 0.25rem solid var(--ex-border);
  background-color: var(--ex-bg);
  color: var(--ex-text);

  padding: 1rem;
  margin: 1.5rem 0;
  border-radius: 0 .5rem .5rem 0;
  font-size: 1.05rem;
}

/* Tabelle */
table {
  width: 100%;
  border-collapse: collapse;
  margin-bottom: 1.25rem;
  font-size: 0.95rem;
}
th, td {
  border: 1px solid var(--bs-border-color);
  padding: 0.6em 0.8em;
  text-align: left;
}
th {
  background-color: var(--bs-table-bg);
  font-weight: 600;
}

/* Matematica */
.math.inline,
.math.display {
  font-size: 1rem;
  line-height: 1.6;
}

/* Utilità */
.no-break { white-space: nowrap; }
